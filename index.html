<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Lancet by ioam</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Lancet</h1>
        <p>Launch jobs, dissect results</p>

        <p class="view"><a href="https://github.com/ioam/lancet">View the Project on GitHub <small>ioam/lancet</small></a></p>


        <ul>
          <li><a href="https://github.com/ioam/lancet/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/ioam/lancet/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/ioam/lancet">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="lancet" class="anchor" href="#lancet"><span class="octicon octicon-link"></span></a>Lancet</h1>

<p><strong>Launch jobs, organize the output, and dissect the results.</strong></p>

<h2>
<a name="introduction" class="anchor" href="#introduction"><span class="octicon octicon-link"></span></a>Introduction</h2>

<p>Lancet is designed to help you organize the output of your research tools, store it, and dissect the data you have collected. The output of a single simulation run or analysis rarely contains all the data you need; Lancet helps you generate data from many runs and analyse it using your own Python code.</p>

<p>Parameter spaces often need to be explored for the purpose of plotting, tuning, or analysis. Lancet helps you extract the information you care about from potentially enormous volumes of data generated by such parameter exploration.</p>

<h2>
<a name="quickstart-example" class="anchor" href="#quickstart-example"><span class="octicon octicon-link"></span></a>Quickstart Example</h2>

<p>Below is a simple example of how to specify, launch and collate results with Lancet. Uses the <code>factor</code> command for factorizing integers (part of GNU coreutils).</p>

<div class="highlight highlight-python"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">lancet</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">example_name</span>   <span class="o">=</span> <span class="s">'prime_quintuplet'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">integers</span>       <span class="o">=</span> <span class="n">lancet</span><span class="o">.</span><span class="n">Range</span><span class="p">(</span><span class="s">'integer'</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span> <span class="n">steps</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">fp_precision</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">factor_cmd</span>     <span class="o">=</span> <span class="n">lancet</span><span class="o">.</span><span class="n">ShellCommand</span><span class="p">(</span><span class="n">executable</span><span class="o">=</span><span class="s">'factor'</span><span class="p">,</span> <span class="n">posargs</span><span class="o">=</span><span class="p">[</span><span class="s">'integer'</span><span class="p">])</span>
<span class="c"># Runs locally. A QLauncher could be used to launch jobs with Grid Engine.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">lancet</span><span class="o">.</span><span class="n">Launcher</span><span class="p">(</span><span class="n">example_name</span><span class="p">,</span> <span class="n">integers</span><span class="p">,</span> <span class="n">factor_cmd</span><span class="p">,</span> <span class="n">output_directory</span><span class="o">=</span><span class="s">'output'</span><span class="p">)()</span>

<span class="c"># Collate and print the the primes in the input range of integers</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">load_factors</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<span class="o">...</span>    \<span class="s">"Return output of 'factor' command as dictionary of factors.</span><span class="se">\"</span>
<span class="o">...</span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="o">...</span>        <span class="n">factor_list</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">':'</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="o">...</span>    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">el</span><span class="p">)</span> <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">factor_list</span><span class="p">))</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">output_files</span>   <span class="o">=</span> <span class="n">lancet</span><span class="o">.</span><span class="n">FilePattern</span><span class="p">(</span><span class="s">'filename'</span><span class="p">,</span> <span class="s">'./output/*-prime*/streams/*.o*'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">output_factors</span> <span class="o">=</span> <span class="n">lancet</span><span class="o">.</span><span class="n">FileInfo</span><span class="p">(</span><span class="n">output_files</span><span class="p">,</span> <span class="s">'filename'</span><span class="p">,</span>
<span class="o">...</span>                                  <span class="n">lancet</span><span class="o">.</span><span class="n">CustomFile</span><span class="p">(</span><span class="n">metadata_fn</span><span class="o">=</span><span class="n">load_factors</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">primes</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">factors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">factors</span> <span class="ow">in</span> <span class="n">output_factors</span><span class="o">.</span><span class="n">specs</span>
                    <span class="k">if</span> <span class="n">factors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">factors</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="c"># i.e. if the input integer equals the first factor</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">primes</span>
<span class="p">[</span><span class="mi">101</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span> <span class="mi">107</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span> <span class="mi">113</span><span class="p">]</span>  <span class="c"># A prime quintuplet, the closest admissable constellation of 5 primes.</span>
</pre></div>

<h3>
<a name="features" class="anchor" href="#features"><span class="octicon octicon-link"></span></a>Features</h3>

<p>Lancet is pure, platform-independent Python with minimal dependencies, and supports both Python 2 and Python 3. It is designed to be extremely flexible and lightweight, allowing researchers to use only the components they need without having to understand the whole design or all the component available.</p>

<ul>
<li>A simple, useful core with advanced functionality strictly optional. Use what you need without learning all components.</li>
<li>All components use a declarative style, helping to ensure reproduciblity.</li>
<li>Succinctly express the high dimensional parameter spaces, without nested loops.</li>
<li>Easily interface with external tools using <code>ShellCommand</code> or quickly build a flexible, reusable interfaces to advanced simulators or analysis tools. Currently, the Topographica neural simulator is actively supported.</li>
<li>Seemlessly switch from running jobs locally to launching jobs on a compute cluster.</li>
<li>Keep your output organized together with key metadata for reproducibility.</li>
<li>Quickly load your data and view the parameters from previous runs.</li>
<li>Integrates well with other popular tools such as <a href="http://ipython.org/notebook">IPython Notebook</a> and the <a href="http://pandas.pydata.org">pandas</a> data analysis library.</li>
<li>Actively used in scientific research and publication.</li>
</ul><h3>
<a name="documentation" class="anchor" href="#documentation"><span class="octicon octicon-link"></span></a>Documentation</h3>

<p>Lancet's code is well documented with docstrings and reference documentation will be made available here soon. The following tutorials and examples demonstrate how Lancet components are used and should help illustrate how Lancet can be integrated in a real research workflow.</p>

<h4>
<a name="tutorials" class="anchor" href="#tutorials"><span class="octicon octicon-link"></span></a>Tutorials</h4>

<p>The following tutorials offer step-by-step examples of how Lancet is in the IPython Notebook environment. Lancet may be used in pure Python scripts or as a library for other Python packages but the benefits of an interactive workflow are only    [Coming soon]:</p>

<ol>
<li>Extended quickstart</li>
<li>Transforming images with ImageMagick</li>
<li>Processing images (follows on from part 2)</li>
<li>Dissecting the results (follows on from part 3)</li>
</ol><h4>
<a name="published-papers-using-lancet" class="anchor" href="#published-papers-using-lancet"><span class="octicon octicon-link"></span></a>Published papers using Lancet</h4>

<p>The following paper uses Lancet exclusively to launch and analyse simulations results. All the code, notebooks and other assets used in this research along with more information on how to reproduce this paper may be found <a href="https://github.com/ioam/topographica/tree/master/models/stevens.jn13">here</a>.</p>

<pre>
@article{Stevens2013,
   author = {Stevens, Jean-Luc R. and Law, Judith S. and
   Antol\\'{i}k, J\\'{a}n and Bednar, James A.},
   title = {Mechanisms for Stable, Robust, and Adaptive
   Development of Orientation Maps in the Primary Visual Cortex},
   journal = {The Journal of Neuroscience},
   volume = {33},
   number = {40},
   pages = {15747-15766},
   year = {2013},
   doi = {10.1523/JNEUROSCI.1037-13.2013},
   url = {http://www.jneurosci.org/content/33/40/15747.full}
}
</pre>

<p>The paper itself is available on the <a href="http://www.jneurosci.org/content/33/40/15747.full">Journal of Neuroscience website</a>.</p>

<h4>
<a name="reference-documentation" class="anchor" href="#reference-documentation"><span class="octicon octicon-link"></span></a>Reference Documentation</h4>

<p>Reference documentation will be made available here soon. Reading the code should help understand the components of Lancet as all modulules, classes and method make extensive use of docstrings.</p>

<h3>
<a name="contributors" class="anchor" href="#contributors"><span class="octicon octicon-link"></span></a>Contributors</h3>

<p>The following people have contributed to Lancet's design and implementation:</p>

<p>Jean-Luc Stevens: Original coding and design</p>

<p><a href="https://github.com/melver">Marco Elver</a>: Python 3 fork, cleaned up many aspects of the design.</p>

<p>James A. Bednar: For supporting the development of a solution that works with any tool and not just <a href="http://www.topographica.org">Topographica</a>.</p>

<p>Philipp Rudiger: Testing, feedback and suggestions.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/ioam">ioam</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>